import{J as l,h as m,p as r,i as h,n as p,j as u}from"./constants-CTJscLYK.js";const E=t=>{const e=document.createElement("tr"),a=document.createElement("td"),n=document.createElement("a"),s=document.createElement("td"),c=document.createElement("td"),d=document.createElement("td"),o=document.createElement("a"),i=document.createElement("td");return n.innerText=t.name,n.href=`/project/${t.id}`,n.classList.add("primary__link"),s.innerText="1",c.innerText="0",o.innerText="Delete",o.href=`/project/delete/${t.id}`,o.classList.add("delete__link"),i.innerText=t.plan,a.appendChild(n),d.appendChild(o),e.appendChild(a),e.appendChild(i),e.appendChild(s),e.appendChild(c),e.appendChild(d),e},T={Post:async(t,e)=>await(await fetch(t,{method:"POST",body:JSON.stringify(e),headers:l})).json(),Put:async t=>await(await fetch(t,{method:"PUT",headers:l})).json(),Delete:async t=>await(await fetch(t,{method:"DELETE",headers:l})).json()};m.forEach(t=>{t.addEventListener("change",e=>{const n=e.target.value;r&&(r.innerText=h[n])})});p&&p.addEventListener("submit",async function(t){t.preventDefault();const e=Array.from(m).find(s=>s.checked),a=e?e.value:"basic",n=p.projectInput;if(!n.value){r&&(r.innerText="Project name cannot be blank"),setTimeout(()=>{r&&(r.innerText=h[a])},1e3);return}try{const s={project:n.value,plan:a},c=await T.Post("/project",s),{id:d,name:o}=c,i=E({id:d,name:o,plan:a});u&&u.appendChild(i)}catch(s){console.log("Error ==>",s)}finally{n.value=""}});
