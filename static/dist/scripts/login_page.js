const n=document.getElementById("emailLoginForm"),e=document.getElementById("loginHeading"),t=document.getElementById("loginSupport"),d=document.getElementById("submitLoginBtn");document.getElementById("submitEmailNotifyForm");document.getElementById("signUpHeading");document.getElementById("signUpSupport");document.querySelectorAll('input[name="account__option"]');document.getElementById("dashboardProjects");document.getElementById("plan_description");document.getElementById("projectTableBody");document.getElementById("planDescriptionText");document.getElementById("newProjectForm");document.getElementById("cancelDeleteButton");document.getElementById("deleteProjectButton");document.getElementById("createApiKey");document.getElementById("keyTable");document.querySelectorAll(".delete__link");document.getElementById("cancelDeleteKey");document.getElementById("confirmDeleteBtn");document.getElementById("delete-key-popover");document.getElementById("showKeyModal");document.getElementById("keyText");document.getElementById("closeKeyModalBtn");document.getElementById("submitKeyBtn");document.getElementById("logsContainer");const a="Excellent!",s="We've sent you a magic link. Check your email and follow the link inside to get logged in",i="Something went wrong!",m="We may be having issues with our servers, please try again later.";n&&n.addEventListener("submit",async o=>{o.preventDefault(),d.disabled=!0,d.innerText="Loading";const l=o.target,c=new FormData(l).get("email");try{if(!(await(await fetch("/api/send_login_link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})})).json()).success&&e&&t){e.innerText=i,t.innerText=m;return}e&&(e.innerText=a),t&&(t.innerText=s),n&&n.classList.add("hide__visibility")}catch{e&&(e.innerText=i),t&&(t.innerText=m)}});
